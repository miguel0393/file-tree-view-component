(function(e){function t(t){for(var o,a,l=t[0],s=t[1],d=t[2],u=0,h=[];u<l.length;u++)a=l[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(h.length)h.shift()();return r.push.apply(r,d||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==i[s]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={app:0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"011c":function(e,t,n){},2914:function(e,t,n){"use strict";var o=n("d400"),i=n.n(o);i.a},"2d42":function(e,t,n){"use strict";var o=n("7085"),i=n.n(o);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("File Tree-View Component")]),n("FileTreeVisualizer")],1)},r=[],a=function(){var e=this,t=this,n=t.$createElement,o=t._self._c||n;return o("div",{attrs:{id:"app"},on:{click:t.onClick}},[o("div",{attrs:{id:"tree-container"}},[o("FileTreeBrowser",{attrs:{id:"tree",node:t.root,treeIsEmpty:0===Object.keys(this.root).length,expanded:t.expandedTree},on:{onClick:t.nodeWasClicked,onRightClick:t.showContextMenu,treeUpdated:t.treeWasUpdated,setRootName:t.setRootName}}),o("FileContent",{attrs:{content:t.content}}),o("ContextMenu",{attrs:{xPosition:t.contextMenuXPosition,yPosition:t.contextMenuYPosition,visible:t.contextMenuIsVisible,menuType:t.contextMenuType},on:{onClick:t.handleMenuOperation}}),t.modalDialogIsVisible?o("ModalDialog",{attrs:{visible:t.modalDialogIsVisible,title:t.modalTitle,showTextArea:t.modalShowTextArea,elementName:t.modalCurrentName,elementContent:t.modalCurrentContent},on:{onOkClick:t.hideModalDialog,onCancelClick:function(){return e.modalDialogIsVisible=!1}}}):t._e()],1)])},l=[],s=(n("d81d"),n("a434"),n("b0c0"),n("b64b"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{contextmenu:function(e){return e.preventDefault()}}},[e.treeIsEmpty?n("div",[n("p",[e._v("Empty tree")]),n("button",{attrs:{id:"create-tree-btn"},on:{click:e.addRootName}},[e._v("Create tree")])]):n("div",[n("div",{staticClass:"node",style:{"margin-left":20*e.depth+"px"},on:{dblclick:e.nodeClicked}},[n("div",{staticClass:"elements",on:{contextmenu:function(t){return e.handleContextMenu(t)}}},[e.hasChildren?n("span",{staticClass:"type",class:{expanded:e.expandedRoot,collapsed:!e.expandedRoot},attrs:{unselectable:"on"}}):n("span",{staticClass:"file-node",attrs:{unselectable:"on"}}),n("span",{staticClass:"node-name",class:{folder:e.hasChildren,file:!e.hasChildren},attrs:{unselectable:"on"}},[e._v(e._s(e.node.name))])])]),e.expandedRoot?n("div",{staticClass:"node-children"},e._l(e.node.children,(function(t){return n("FileTreeBrowser",{key:t.name,attrs:{node:t,depth:e.depth+1,treeIsEmpty:e.treeIsEmpty,expanded:e.expandedChild},on:{onClick:function(t){return e.$emit("onClick",t)},treeUpdated:function(){return e.$emit("treeUpdated","")},onRightClick:function(t,n,o){return e.$emit("onRightClick",t,n,o)}}})})),1):e._e()])])}),d=[],c=(n("a9e3"),{name:"FileTreeBrowser",props:{node:Object,depth:{type:Number,default:0},treeIsEmpty:Boolean,expanded:Boolean},data:function(){return{rootName:"",expandedRoot:this.expanded,expandedChild:!0}},methods:{nodeClicked:function(){this.expandedRoot=!this.expandedRoot,0!=this.depth&&(this.expandedChild=!1,this.hasChildren||this.$emit("onClick",this.node))},addRootName:function(){this.$emit("setRootName")},handleContextMenu:function(e){e.preventDefault(),0===this.depth&&this.$emit("onRightClick",e,this,"root"),this.depth>0&&this.node.children&&this.$emit("onRightClick",e,this,"folder"),this.depth>0&&!this.node.children&&this.$emit("onRightClick",e,this,"file")}},computed:{hasChildren:function(){return!!this.node&&this.node.children}}}),u=c,h=(n("2d42"),n("2877")),p=Object(h["a"])(u,s,d,!1,null,"d8b72b62",null),f=p.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"file-content"}},[n("div",{staticClass:"content"},[n("section",[e._v(" "+e._s(e.content)+" ")])])])},b=[],C={name:"FileContent",props:{content:String}},x=C,v=(n("e624"),Object(h["a"])(x,m,b,!1,null,"09677885",null)),k=v.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.visible?n("div",{staticClass:"custom-cm",style:{top:e.yPosition+"px",left:e.xPosition+"px"},attrs:{id:"context-menu"},on:{contextmenu:function(e){return e.preventDefault()}}},e._l(e.currentOptions,(function(t,o){return n("div",{key:o,staticClass:"custom-cm__item",on:{click:function(n){return e.handleMenuClick(t.function)}}},[e._v(e._s(t.name))])})),0):e._e()},g=[],N={name:"ContextMenu",props:{visible:{type:Boolean,default:!1},xPosition:{type:Number,default:0},yPosition:{type:Number,default:0},menuType:{type:String,default:""}},data:function(){return{menuOptions:{root:[{name:"Add Subfolder",function:"add-subfolder"},{name:"Add file",function:"add-file"},{name:"Delete tree",function:"delete-tree"}],folder:[{name:"Add Subfolder",function:"add-subfolder"},{name:"Add file",function:"add-file"},{name:"Delete subfolder",function:"delete-subfolder"}],file:[{name:"Modify file",function:"modify-file"},{name:"Delete file",function:"delete-file"}]},currentOptions:[]}},methods:{handleMenuClick:function(e){this.$emit("onClick",e)}},beforeUpdate:function(){""!==this.menuType&&(this.currentOptions=this.menuOptions[this.menuType])}},_=N,M=(n("900b"),Object(h["a"])(_,y,g,!1,null,"62a33dd8",null)),O=M.exports,w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"modal-window"}},[n("transition",{attrs:{name:"fade",appear:""}},[n("div",{staticClass:"modal"},[n("h1",[e._v(e._s(e.title))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.inputName,expression:"inputName"}],attrs:{type:"text",autofocus:"true",placeholder:"Name..."},domProps:{value:e.inputName},on:{input:function(t){t.target.composing||(e.inputName=t.target.value)}}}),e.showTextArea?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputContent,expression:"inputContent"}],attrs:{placeholder:"File content...",resize:"false"},domProps:{value:e.inputContent},on:{input:function(t){t.target.composing||(e.inputContent=t.target.value)}}}):e._e(),e._v(" "),n("button",{on:{click:e.okButtonClicked}},[e._v("Ok")]),n("button",{on:{click:e.cancelButtonClicked}},[e._v("Cancel")])])])],1)},T=[],S={name:"ModalDialog",props:{title:String,showTextArea:{type:Boolean,default:!1},elementName:{type:String,default:""},elementContent:{type:String,default:""}},data:function(){return{inputName:this.elementName,inputContent:this.elementContent}},methods:{okButtonClicked:function(){this.$emit("onOkClick",this.inputName,this.inputContent)},cancelButtonClicked:function(){this.$emit("onCancelClick",this.newName)}}},$=S,D=(n("5936"),Object(h["a"])($,w,T,!1,null,"dbcdbebe",null)),P=D.exports,j={name:"FileTreeVisualizer",props:{},data:function(){return{root:{},content:"",contextMenuType:"",contextMenuXPosition:0,contextMenuYPosition:0,contextMenuIsVisible:!1,currentOperation:null,currentNode:null,modalDialogIsVisible:!1,modalTitle:"Cambiar Nombre",modalShowTextArea:!1,modalCurrentName:null,modalCurrentContent:null,expandedTree:!1}},created:function(){localStorage.treeStructure&&(this.root=JSON.parse(localStorage.treeStructure))},methods:{nodeWasClicked:function(e){this.expandedTree=!0,this.content=e.content},treeWasUpdated:function(){this.expandedTree=!0,localStorage.treeStructure=JSON.stringify(this.root)},setRootName:function(){this.expandedTree=!0,this.currentOperation="set-root-name",this.showModalDialog("Set tree name",!1)},showContextMenu:function(e,t,n){this.expandedTree=!0,this.currentNode=t,this.contextMenuType=n,this.contextMenuXPosition=e.x,this.contextMenuYPosition=e.y,this.contextMenuIsVisible=!0},showModalDialog:function(e,t,n,o){this.modalDialogIsVisible=!0,this.modalTitle=e,this.modalShowTextArea=t,this.modalCurrentName=n,this.modalCurrentContent=o},hideModalDialog:function(e,t){switch(this.modalDialogIsVisible=!1,this.currentOperation){case"add-subfolder":this.currentNode.node.children.push({name:e,children:[]});break;case"add-file":this.currentNode.node.children.push({name:e,content:""});break;case"modify-file":this.$set(this.currentNode.node,"name",e),this.$set(this.currentNode.node,"content",t),this.content=this.currentNode.node.content;break;case"set-root-name":this.$set(this.root,"name",e),this.$set(this.root,"children",[]);break}this.treeWasUpdated()},onClick:function(){this.contextMenuIsVisible=!1},deleteTree:function(){localStorage.treeStructure=JSON.stringify({}),this.root=JSON.parse(localStorage.treeStructure)},deleteNode:function(e,t){for(var n,o=0,i=e.$children.length;o<i;o++)if(e.$children[o]._uid===t._uid){n=o;break}e.$children.splice(n,1),this.$set(e.node,"children",e.$children.map((function(e){return e.node}))),this.treeWasUpdated()},handleMenuOperation:function(e){switch(this.contextMenuIsVisible=!1,this.modalCurrentName="",this.modalCurrentContent="",this.currentOperation=e,e){case"delete-tree":this.deleteTree();break;case"add-subfolder":this.showModalDialog("Add Subfolder",!1);break;case"delete-subfolder":this.deleteNode(this.currentNode.$parent,this.currentNode);break;case"add-file":this.showModalDialog("Add File",!1);break;case"delete-file":this.deleteNode(this.currentNode.$parent,this.currentNode);break;case"modify-file":this.showModalDialog("Modify File",!0,this.currentNode.node.name,this.currentNode.node.content);break;default:break}}},computed:{treeIsEmpty:function(){return 0===Object.keys(this.root).length}},components:{FileTreeBrowser:f,FileContent:k,ContextMenu:O,ModalDialog:P}},R=j,I=(n("2914"),Object(h["a"])(R,a,l,!1,null,null,null)),V=I.exports,F={name:"App",props:{},components:{FileTreeVisualizer:V}},A=F,E=Object(h["a"])(A,i,r,!1,null,null,null),B=E.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(B)}}).$mount("#app")},5936:function(e,t,n){"use strict";var o=n("011c"),i=n.n(o);i.a},7085:function(e,t,n){},"8a23":function(e,t,n){},"900b":function(e,t,n){"use strict";var o=n("8a23"),i=n.n(o);i.a},9504:function(e,t,n){},d400:function(e,t,n){},e624:function(e,t,n){"use strict";var o=n("9504"),i=n.n(o);i.a}});
//# sourceMappingURL=app.72da4038.js.map